<html>
    <head>
        <meta charset="utf-8" />
        <title>Stream</title>

        <link href="node_modules/video.js/dist/video-js.css" rel="stylesheet" />
        <link href="https://vjs.zencdn.net/5.16.0/video-js.min.css" rel="stylesheet" />

        <style>
            body {
                position: relative;
                font-family: Arial, sans-serif;
                margin: 0;
                padding: 0;
            }
            .videojs-background-wrap {
                overflow: hidden;
                position: absolute;
                height: 100%;
                width: 100%;
                top: 0;
                left: 0;
                z-index: -998;
            }
        </style>
    </head>
    <body>
        <video autoplay="false" id="bg-video" class="video-js vjs-default-skin" style="position: absolute; top: 0; left: 0; overflow: hidden; z-index: -998" height="100%" width="100%">
            <p>Your browser doesn't support video. Please <a href="http://browsehappy.com/">upgrade your browser</a> to see the example.</p>
            <source type="video/mp4" />
        </video>
        <script src="https://vjs.zencdn.net/5.16.0/video.min.js"></script>
        <script src="https://vjs.zencdn.net/ie8/1.1.2/videojs-ie8.min.js"></script>
        <script src="https://rawgit.com/matthojo/videojs-Background/master/dist/videojs-background.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/videojs-contrib-hls/5.3.3/videojs-contrib-hls.min.js"></script>
        <script>
            var stack = [];
            var player = null;
            window.addEventListener("DOMContentLoaded", (event) => {
                var params = new URL(window.location.href);

                player = videojs("bg-video");
                player.src({
                    src: atob(params.searchParams.get("vid") || "aHR0cHM6Ly93ZWJzdGF0aWMud2F0Y2hhbmltZS5kZXYvd2F0Y2hhbmltZS1zdGF0aWMvdmlkZW8vcmlja3JvbGwubXA0"),
                    type: "video/mp4",
                });
                player.poster(atob(params.searchParams.get("poster")));
                player.Background({
                    volume: parseFloat(params.searchParams.get("volume") || 0),
                    mediaType: "html5",
                    autoPlay: "false",
                });
            });
        </script>
    </body>
</html>
